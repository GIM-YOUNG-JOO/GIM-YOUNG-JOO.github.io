---
title: "Node.js"
excerpt: "Web, Node"
tags:
  - Web
  - JavaScript
comments: true
---

### Node.js

자바스크립트를 스크립트 언어 이상으로 프로그래밍 언어 역할을 할 수 있도록 지원하는 플랫폼

* 특징 : Single Thread, Event 기반, None Blocking I/O

| 구분    | 블로킹 I/O                                                                                                   | 논블로킹 I/O                                                                                     |
| ------- | ------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------ |
| 개념    | I/O 메서드를 호출한 스레드가 데이터가 준비될 때까지 대기                                                     | I/O 메서드가 즉시 결과를 반환하고, 데이터가 준비되지 않았으면 “읽을 데이터 없음” 등으로 반환     |
| 특징    | 코드가 직관적이고 구현이 단순하며, 스레드가 I/O 작업 완료까지 대기                                           | 스레드가 대기하지 않고 다른 작업을 계속할 수 있으며, 이벤트 루프나 콜백 등이 필요                |
| 장점    | 동기적 로직을 쉽게 구현할 수 있고, 규모가 작거나 처리량이 적을 때 편리                                       | 대규모 연결이나 고부하 환경에서 자원을 효율적으로 활용할 수 있고, 스레드 풀 부담이 줄어든다      |
| 단점    | I/O 대기로 인해 스레드가 오랫동안 잠길 수 있으며, 연결 수가 많으면 스레드 수도 기하급수적으로 늘어날 수 있음 | 비교적 복잡한 프로그래밍 모델이고, 이벤트나 콜백 기반 로직으로 인해 코드 가독성이 낮아질 수 있음 |
| 사용 예 | 간단한 서버나 클라이언트, 소규모 애플리케이션, 동시 연결이 많지 않은 환경                                    | 대규모 네트워크 서버, 고성능·고부하 시스템, Node.js, Netty, NIO 등                               |

### Node.js 아키텍처
![homework]({{ site.url }}{{ site.baseurl }}/assets/images/nodejs_architecher.webp)

* V8 엔진 : JavaScript 코드를 해석·실행하는 구글의 엔진
* Node.js 바인딩 : V8과 OS 기능을 연결해 주는 Node.js 자체 API
* 이벤트 큐, 이벤트 루프 : 완료된 비동기 작업들의 콜백을 순환하며 호출하는 구조
* libuv + 스레드 풀 : 파일 시스템, 네트워크 등 블로킹 작업을 별도 스레드에서 처리하여 메인 이벤트 루프가 막히지 않도록 함
  * libuv는 Node.js의 비동기 I/O 처리의 핵심이 되는 이벤트 루프(event loop)와 스레드 풀(thread pool) 등을 제공하는 C/C++ 기반의 라이브러리

### Module
특정 기능을 하나의 파일이나 디렉토리로 캡슐화하여 내보내고 가져오는 구조  
자바스크립트 파일 하나가 곧 모듈이 될 수 있고 모듈별로 관련된 로직을 묶어 관리하면 코드 재사용성과 유지보수성을 향상 시킬 수 있음  

- HTTP Status Code

| 상태 코드 | 명칭                  | 설명                                                             |
| --------- | --------------------- | ---------------------------------------------------------------- |
| 200       | OK                    | 요청이 성공적으로 처리되었음을 나타냄                            |
| 301       | Moved Permanently     | 요청한 리소스가 영구적으로 다른 URL로 이동되었음을 나타냄        |
| 400       | Bad Request           | 클라이언트의 잘못된 요청으로 인해 서버가 이해할 수 없음을 나타냄 |
| 404       | Not Found             | 요청한 리소스를 서버에서 찾을 수 없음을 나타냄                   |
| 500       | Internal Server Error | 서버 내부에서 오류가 발생했음을 나타냄                           |

![homework6]({{ site.url }}{{ site.baseurl }}/assets/images/homework6.png)
